{"name": "Авторизация без обязательного поля", "status": "failed", "statusDetails": {"message": "AssertionError: Ошибка: Ожидался код 400\nassert 500 == 400\n +  where 500 = <built-in method get of dict object at 0x104afbdc0>('resp_code')\n +    where <built-in method get of dict object at 0x104afbdc0> = {'message': 'Request failed: Expecting value: line 1 column 1 (char 0)', 'resp_code': 500, 'text': 'Service unavailable'}.get", "trace": "self = <test_courier_login.TestCourierLogin object at 0x104ac4800>\nrandom_courier = {'data': {'first_name': 'mlmtuqliia', 'login': 'lkmcqiaxcs', 'password': 'eulmxnjgpj'}, 'resp_code': 201, 'resp_json_data': {'ok': True}, 'text': '{\"ok\":true}'}\nmissing_field = 'password'\n\n    @pytest.mark.parametrize(\"missing_field\", [\"login\", \"password\"])\n    @allure.title(\"Авторизация без обязательного поля\")\n    @allure.description(\"Проверяем, что нельзя авторизоваться без логина или пароля\")\n    def test_courier_authorize_without_required_field_success(self, random_courier, missing_field):\n        data = random_courier['data']\n        new_data = data.copy()\n        new_data.pop(missing_field)\n    \n        courier = Courier()\n    \n        with allure.step(f\"Отправляем запрос без поля {missing_field}\"):\n            login_resp = courier.login_courier(**new_data)\n            allure.attach(str(login_resp), name=\"Response\", attachment_type=allure.attachment_type.JSON)\n    \n        logger.info(f\"✅ Логин не успешен {login_resp['resp_code']}, данные: {new_data}\")\n>       assert login_resp.get(\"resp_code\") == 400, \"Ошибка: Ожидался код 400\"\nE       AssertionError: Ошибка: Ожидался код 400\nE       assert 500 == 400\nE        +  where 500 = <built-in method get of dict object at 0x104afbdc0>('resp_code')\nE        +    where <built-in method get of dict object at 0x104afbdc0> = {'message': 'Request failed: Expecting value: line 1 column 1 (char 0)', 'resp_code': 500, 'text': 'Service unavailable'}.get\n\ntests/test_courier_login.py:42: AssertionError"}, "description": "Проверяем, что нельзя авторизоваться без логина или пароля", "steps": [{"name": "Отправляем запрос без поля password", "status": "passed", "steps": [{"name": "Авторизация курьера", "status": "passed", "parameters": [{"name": "login", "value": "'lkmcqiaxcs'"}, {"name": "password", "value": "None"}, {"name": "first_name", "value": "'mlmtuqliia'"}], "start": 1740824851956, "stop": 1740824912424}], "attachments": [{"name": "Response", "source": "8dae67c1-62e9-4934-9e77-6efc80b7d189-attachment.json", "type": "application/json"}], "start": 1740824851955, "stop": 1740824912425}], "attachments": [{"name": "log", "source": "b05130b6-271a-4b41-be29-99f9ebd64c4b-attachment.txt", "type": "text/plain"}, {"name": "stderr", "source": "c0a47c07-7076-49b7-93d4-34a14a42a004-attachment.txt", "type": "text/plain"}], "parameters": [{"name": "missing_field", "value": "'password'"}], "start": 1740824851955, "stop": 1740824912426, "uuid": "b3912565-7923-44e5-b5ba-d3b3d9d1bd9f", "historyId": "74a77028ffc590fcdc12ebc70f36813d", "testCaseId": "6d2b614c3939b28714d01e12e1e37d20", "fullName": "tests.test_courier_login.TestCourierLogin#test_courier_authorize_without_required_field_success", "labels": [{"name": "suite", "value": "Courier Login"}, {"name": "parentSuite", "value": "tests"}, {"name": "subSuite", "value": "TestCourierLogin"}, {"name": "host", "value": "MacBook-Pro-Nikita.local"}, {"name": "thread", "value": "72050-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "tests.test_courier_login"}]}